<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Mindboggle &mdash; Mindboggle</title>
    
    <link rel="stylesheet" href="../_static/mindboggle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '%s.%s.%s%s',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Mindboggle" href="../index.html" />
  <HTML><head><title>Mindboggle</title>
  <link rel="icon" type="image/png" sizes="96x96" href="http://mindboggle.info/shared/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="32x32" href="http://mindboggle.info/shared/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="http://mindboggle.info/shared/favicon-16x16.png">
  <meta http-equiv="Content-language" content="en">
  <meta name="description" content="Mindboggle">
  <meta name="keywords" content="Mindboggle, neuroimaging, brain imaging, python, neuroscience, labeling, parcellation, morphometry, shape analysis, MRI">
  <meta name="author" content="mailto:arno&#64;mindboggle.info">
  <meta name="dc.title" content="Mindboggle"> 
  <meta name="dc.creator.address" content="arno&#64;mindboggle.info">
  <meta name="dc.subject" content="Mindboggle">
  <meta name="dc.type" content="text.homepage.academic"> 
  <meta name="dc.format" content="text/html"> 
  <meta name="dc.identifier" content="http://mindboggle.info">

  </head>
  <body role="document">
<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
 <table>
  <tr>
   <td>

 <a href="../index.html">
  <img src="http://nipy.github.io/mindboggle/shared/mindboggle_logo_small.jpg" alt="small mindboggle logo"  border="0" width="160"/></a>

   </td>
   <td>
    <table>
     <tr>
 <a style="padding: 20px 20px 20px 20px; color: #b07613; text-decoration: none; font-size: 32px"
  href="../index.html">Mindboggle</a>
     </tr>
     <tr> <td height="18"></td>
     </tr>
     <tr>
      <td>
  <a style="padding: 20px 20px 20px 20px; text-decoration: none; font-size: 18px"
   href="http://nipy.github.io/mindboggle/users/README.html">Software</a>
      </td>
      <td>
  <a style="padding: 20px 20px 20px 20px; text-decoration: none; font-size: 18px"
   href="../data.html">Data</a>
      </td>
      <td>
  <a style="padding: 20px 20px 20px 20px; text-decoration: none; font-size: 18px"
   href="../papers.html">Papers</a>
      </td>
      <td>
  <a style="padding: 20px 20px 20px 20px; text-decoration: none; font-size: 18px"
   href="../people.html">People</a>
      </td>
     </tr>
    </table>
   </td>
  </tr>
 </table>
</div>
  

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="software-note-mindboggle-is-still-in-pre-release">
<span id="id1"></span><h1>Software &#8211; NOTE: MINDBOGGLE IS STILL IN PRE-RELEASE<a class="headerlink" href="#software-note-mindboggle-is-still-in-pre-release" title="Permalink to this headline">¶</a></h1>
<p>The Mindboggle software package automates shape analysis of anatomical labels
and features extracted from human brain MR image data (read the
<a class="reference external" href="http://mindboggle.info/faq/why_mindboggle.html">story</a>).
Mindboggle can be run as a single command, and can be
easily installed as a cross-platform virtual machine for convenience and
reproducibility of results. Behind the scenes, open source
Python and C++ code run within a Nipype pipeline framework.
Keep reading!:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>1. `Help`_
2. `Installing Mindboggle`_
3. `Running Mindboggle`_
4. `Preprocessing`_
5. `Processing steps`_
6. `Output`_
</pre></div>
</div>
<div class="section" id="id2">
<h2><span class="target" id="help">Help</span><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">For help after installing, type the following in a terminal window:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">mindboggle</span> <span class="o">-</span><span class="n">h</span>
</pre></div>
</div>
</li>
<li><p class="first"><a class="reference external" href="http://mindboggle.info/documentation.html">Documentation</a></p>
</li>
<li><p class="first"><a class="reference external" href="http://github.com/binarybottle/mindboggle">GitHub</a></p>
</li>
<li><p class="first"><a class="reference external" href="http://mindboggle.info/users/LICENSE.html">License</a></p>
</li>
<li><p class="first"><a class="reference external" href="http://mindboggle.info/users/THANKS.html">Contributors</a></p>
</li>
</ul>
</div>
<div class="section" id="id3">
<h2><span class="target" id="installing-mindboggle">Installing Mindboggle</span><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>Mindboggle comes as a single installation script, <a class="reference external" href="https://raw.githubusercontent.com/nipy/mindboggle/master/install/install_mindboggle.sh">install_mindboggle.sh</a>,
that may be directly called to install Mindboggle on a Linux machine.
However, for reasons of convenience and reproducibility of results,
we recommend using a different script,
<a class="reference external" href="https://raw.githubusercontent.com/nipy/mindboggle/master/install/configure_mindboggle_vm">configure_mindboggle_vm</a>,
to perform the same installation on Linux, MacOSX, or Windows,
but in a virtual machine (VM). Download the VM script to wherever you want
the startup directory to be, and do the following (type commands in a
terminal for steps 2 and 3).</p>
<ol class="arabic">
<li><p class="first">Install dependencies:</p>
<blockquote>
<div><dl class="docutils">
<dt><a class="reference external" href="http://www.vagrantup.com">Vagrant</a> manages virtual machines.</dt>
<dd><p class="first last">Vagrant provides reproducible and portable work environments
that isolate dependencies and their configuration within a single
disposable, consistent environment that can run on
Linux, MacOSX, or Windows.</p>
</dd>
<dt><a class="reference external" href="https://www.virtualbox.org">Virtualbox</a> provides</dt>
<dd><p class="first last">virtual machines used by Vagrant. Alternative backend providers
for Vagrant include VMware and Amazon Web Services.</p>
</dd>
</dl>
</div></blockquote>
</li>
</ol>
<p>2. Download and configure the virtual machine to access your local
brain image (usually FreeSurfer output) data by typing the following
in the same directory as the VM script. This generates a configuration
file called &#8220;Vagrantfile&#8221;:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>python configure_mindboggle_vm
</pre></div>
</div>
<p>For help with more options, such as how to mount your local ANTs data
directory, set the number of processors, etc., add &#8220;-h&#8221; to the above:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>python configure_mindboggle_vm -h
</pre></div>
</div>
<p>3. Henceforth, whenever running Mindboggle, first type the following
in the same directory as the Vagrantfile:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>vagrant up
vagrant ssh
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h2><span class="target" id="running-mindboggle">Running Mindboggle</span><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p>To run Mindboggle, you must first preprocess brain MR image data
(see <a class="reference internal" href="#preprocessing">Preprocessing</a> below). To get up and running with the following
examples, download and uncompress (&#8220;tar xvfz example.tar.gz&#8221;) the
<a class="reference external" href="http://media.mindboggle.info/data/cache/example.tar.gz">example.tar.gz</a>
directory (over 500MB), which includes abridged freesurfer, ANTs, and
mindboggle output for one person.</p>
<p><strong>Example 1:</strong>
The following bare-bones command runs Mindboggle
on data processed by FreeSurfer but not ANTs:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">mindboggle</span> <span class="o">/</span><span class="n">example</span><span class="o">/</span><span class="n">freesurfer_subjects</span><span class="o">/</span><span class="n">arno</span>
</pre></div>
</div>
<p><strong>Example 2:</strong>
The same command, but takes advantage of ANTs output (&#8220;&#8211;&#8221; is two hyphens):</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>mindboggle $HOME/example/freesurfer_subjects/arno --ants /example/ants_subjects/arno/antsBrainSegmentation.nii.gz
</pre></div>
</div>
<p><strong>Example 3:</strong>
To generate only volume (and not surface) labels and shape measures from FreeSurfer data, using 8 processors:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>mindboggle $HOME/example/freesurfer_subjects/arno --no_surfaces -p 8
</pre></div>
</div>
</div>
<div class="section" id="id5">
<h2><span class="target" id="preprocessing">Preprocessing</span><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p>As you may have inferred from the &#8220;Running Mindboggle&#8221; examples and example
data above, Mindboggle currently takes output from
<a class="reference external" href="http://surfer.nmr.mgh.harvard.edu">FreeSurfer</a> (preferably v6 or higher)
and optionally from <a class="reference external" href="http://stnava.github.io/ANTs/">ANTs</a>
(preferably v2.1.0rc3 or higher).</p>
<p><strong>FreeSurfer</strong> generates labeled cortical surfaces, and labeled cortical and
noncortical volumes. Run <code class="docutils literal"><span class="pre">recon-all</span></code> on a T1-weighted IMAGE file
(e.g., subject1.nii.gz) and set the output SUBJECT name (subject1):</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>recon-all -all -i IMAGE -s SUBJECT
</pre></div>
</div>
<p><strong>ANTs</strong> provides brain volume extraction, segmentation, and
registration-based labeling. To generate the ANTs transforms and segmentation
files used by Mindboggle, run the <code class="docutils literal"><span class="pre">antsCorticalThickness.sh</span></code> script on the
same <code class="docutils literal"><span class="pre">IMAGE</span></code> file, set an output <code class="docutils literal"><span class="pre">PREFIX</span></code>, and provide paths to the
<a class="reference external" href="http://mindboggle.info/data/templates/atropos/OASIS-30_Atropos_template.tar.gz">OASIS-30 Atropos template</a>
files (backslash denotes a line return):</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>antsCorticalThickness.sh -d 3 -a IMAGE -o PREFIX \
  -e OASIS-30_Atropos_template/T_template0.nii.gz \
  -t OASIS-30_Atropos_template/T_template0_BrainCerebellum.nii.gz \
  -m OASIS-30_Atropos_template/T_template0_BrainCerebellumProbabilityMask.nii.gz \
  -f OASIS-30_Atropos_template/T_template0_BrainCerebellumExtractionMask.nii.gz \
  -p OASIS-30_Atropos_template/Priors2/priors%d.nii.gz
</pre></div>
</div>
</div>
<div class="section" id="id6">
<h2><span class="target" id="processing-steps">Processing steps</span><a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Create hybrid gray/white segmentation from FreeSurfer and ANTs output (<a class="reference external" href="https://github.com/nipy/mindboggle/blob/master/mindboggle/guts/segment.py">combine_2labels_in_2volumes</a>).</p>
</li>
<li><p class="first">Fill hybrid segmentation with FreeSurfer- or ANTs-registered labels.</p>
</li>
<li><p class="first">Compute volume shape measures for each labeled region:</p>
<blockquote>
<div><ul class="simple">
<li>volume (<a class="reference external" href="https://github.com/nipy/mindboggle/blob/master/mindboggle/shapes/volume_shapes.py">volume_per_brain_region</a>)</li>
<li>thickness of cortical labels (<a class="reference external" href="https://github.com/nipy/mindboggle/blob/master/mindboggle/shapes/volume_shapes.py">thickinthehead</a>)</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Compute surface shape measures for every cortical mesh vertex:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="https://github.com/nipy/mindboggle/blob/master/vtk_cpp_tools/PointAreaComputer.cpp">surface area</a></li>
<li><a class="reference external" href="https://github.com/nipy/mindboggle/blob/master/vtk_cpp_tools/TravelDepth.cpp">travel depth</a></li>
<li><a class="reference external" href="https://github.com/nipy/mindboggle/blob/master/vtk_cpp_tools/geodesic_depth/GeodesicDepthMain.cpp">geodesic depth</a></li>
<li><a class="reference external" href="https://github.com/nipy/mindboggle/blob/master/vtk_cpp_tools/curvature/CurvatureMain.cpp">mean curvature</a></li>
<li>convexity (from FreeSurfer)</li>
<li>thickness (from FreeSurfer)</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Extract cortical surface features:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="https://github.com/nipy/mindboggle/blob/master/mindboggle/features/folds.py">folds</a></li>
<li><a class="reference external" href="https://github.com/nipy/mindboggle/blob/master/mindboggle/features/sulci.py">sulci</a></li>
<li><a class="reference external" href="https://github.com/nipy/mindboggle/blob/master/mindboggle/features/fundi.py">fundi</a></li>
</ul>
</div></blockquote>
</li>
<li><p class="first">For each cortical surface label/sulcus, compute:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="https://github.com/nipy/mindboggle/blob/master/vtk_cpp_tools/area/PointAreaMain.cpp">area</a></li>
<li>mean coordinates: <a class="reference external" href="https://github.com/nipy/mindboggle/blob/master/mindboggle/guts/compute.py">means_per_label</a></li>
<li>mean coordinates in MNI152 space</li>
<li><a class="reference external" href="https://github.com/nipy/mindboggle/blob/master/mindboggle/shapes/laplace_beltrami.py">Laplace-Beltrami spectrum</a></li>
<li><a class="reference external" href="https://github.com/nipy/mindboggle/blob/master/mindboggle/shapes/zernike/zernike.py">Zernike moments</a></li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Compute statistics (<code class="docutils literal"><span class="pre">stats_per_label</span></code> in <a class="reference external" href="https://github.com/nipy/mindboggle/blob/master/mindboggle/guts/compute.py">compute.py</a>) for each shape measure in #4 for each label/feature:</p>
<blockquote>
<div><ul class="simple">
<li>median</li>
<li>median absolute deviation</li>
<li>mean</li>
<li>standard deviation</li>
<li>skew</li>
<li>kurtosis</li>
<li>lower quartile</li>
<li>upper quartile</li>
</ul>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="id7">
<h2><span class="target" id="output">Output</span><a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<p>Example output data is in the example/mindboggled/ directory
downloaded in the <a class="reference internal" href="#preprocessing">Preprocessing</a> section above.
By default, output files are saved in $HOME/mindboggled/SUBJECT, where $HOME
is the home directory and SUBJECT is a name representing the person&#8217;s
brain that has been scanned.
Volume files are in <a class="reference external" href="http://nifti.nimh.nih.gov">Nifti</a> format,
surface meshes in <a class="reference external" href="http://www.vtk.org/">VTK</a> format,
and tables are comma-delimited.
Each file contains integers that correspond to anatomical
<a class="reference external" href="http://mindboggle.info/faq/labels.html">labels</a>
or features (0-24 for sulci).
All output data are in the original subject&#8217;s space.
The following include outputs from most, but not all, optional arguments.</p>
<table border="1" class="docutils">
<colgroup>
<col width="1%" />
<col width="18%" />
<col width="63%" />
<col width="17%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>&nbsp;</td>
<td><strong>Folder</strong></td>
<td><strong>Contents</strong></td>
<td><strong>Format</strong></td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>labels/</td>
<td>number-labeled surfaces and volumes</td>
<td>.vtk, .nii.gz</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>features/</td>
<td>surfaces with features:  sulci, fundi</td>
<td>.vtk</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>shapes/</td>
<td>surfaces with shape measures (per vertex)</td>
<td>.vtk</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>tables/</td>
<td>tables of shape measures (per label/feature/vertex)</td>
<td>.csv</td>
</tr>
</tbody>
</table>
<p><strong>mindboggled</strong> / SUBJECT /</p>
<blockquote>
<div><p><strong>labels</strong> /</p>
<blockquote>
<div><p><strong>freesurfer_wmparc_labels_in_hybrid_graywhite.nii.gz</strong>:  <em>hybrid segmentation filled with FS labels</em></p>
<p><strong>ants_labels_in_hybrid_graywhite.nii.gz</strong>:  <em>hybrid segmentation filled with ANTs + FS cerebellar labels</em></p>
<p>[left,right]_cortical_surface / <strong>freesurfer_cortex_labels.vtk</strong>: <a class="reference external" href="http://mindboggle.info/data/">DKT</a> <em>cortical surface labels</em></p>
</div></blockquote>
<p><strong>features</strong> / [left,right]_cortical_surface /</p>
<blockquote>
<div><p><strong>folds.vtk</strong>:  <em>(unidentified) depth-based folds</em></p>
<p><strong>sulci.vtk</strong>:  <em>sulci defined by</em> <a class="reference external" href="http://mindboggle.info/data/">DKT</a> <em>label pairs in depth-based folds</em></p>
<p><strong>fundus_per_sulcus.vtk</strong>:  <em>fundus curve per sulcus</em>  <strong>&#8211; UNDER EVALUATION &#8211;</strong></p>
<p><strong>cortex_in_MNI152_space.vtk</strong>:  <em>cortical surfaces aligned to an MNI152 template</em></p>
</div></blockquote>
<p><strong>shapes</strong> / [left,right]_cortical_surface /</p>
<blockquote>
<div><p><strong>area.vtk</strong>:  <em>per-vertex surface area</em></p>
<p><strong>mean_curvature.vtk</strong>:  <em>per-vertex mean curvature</em></p>
<p><strong>geodesic_depth.vtk</strong>:  <em>per-vertex geodesic depth</em></p>
<p><strong>travel_depth.vtk</strong>:  <em>per-vertex travel depth</em></p>
<p><strong>freesurfer_curvature.vtk</strong>:  <em>FS curvature files converted to VTK</em></p>
<p><strong>freesurfer_sulc.vtk</strong>:  <em>FS sulc (convexity) files converted to VTK</em></p>
<p><strong>freesurfer_thickness.vtk</strong>:  <em>FS thickness files converted to VTK</em></p>
</div></blockquote>
<p><strong>tables</strong> /</p>
<blockquote>
<div><p><strong>volume_per_freesurfer_label.csv</strong>:  <em>volume per FS label</em></p>
<p><strong>volumes_per_ants_label.csv</strong>:  <em>volume per ANTs label</em></p>
<p><strong>thickinthehead_per_freesurfer_cortex_label.csv</strong>:  <em>FS cortex label thickness</em></p>
<p><strong>thickinthehead_per_ants_cortex_label.csv</strong>:  <em>ANTs cortex label thickness</em></p>
<p>[left,right]_cortical_surface /</p>
<blockquote>
<div><p><strong>label_shapes.csv</strong>:  <em>per-label surface shape statistics</em></p>
<p><strong>sulcus_shapes.csv</strong>:  <em>per-sulcus surface shape statistics</em></p>
<p><strong>fundus_shapes.csv</strong>:  <em>per-fundus surface shape statistics</em>  <strong>&#8211; UNDER EVALUATION &#8211;</strong></p>
<p><strong>vertices.csv</strong>:  <em>per-vertex surface shape statistics</em></p>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
<!-- Google Analytics -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-693862-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

  </body>
</html>