<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Mindboggle &mdash; Mindboggle</title>
    
    <link rel="stylesheet" href="../../_static/mindboggle.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.1.0dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="Mindboggle" href="../../index.html" />
  <HTML><head><title>Mindboggle</title>
  <meta http-equiv="Content-language" content="en">
  <meta name="description" content="Mindboggle">
  <meta name="keywords" content="Mindboggle, neuroimaging, brain imaging, python, neuroscience, labeling, parcellation, morphometry, shape analysis, MRI">
  <meta name="author" content="mailto:arno&#64;mindboggle.info">
  <meta name="dc.title" content="Mindboggle"> 
  <meta name="dc.creator.address" content="arno&#64;mindboggle.info">
  <meta name="dc.subject" content="Mindboggle">
  <meta name="dc.type" content="text.homepage.academic"> 
  <meta name="dc.format" content="text/html"> 
  <meta name="dc.identifier" content="http://mindboggle.info/">

  </head>
  <body>
<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
 <table>
  <tr>
   <td>

 <a href="../../index.html">
  <img src="../../shared/mindboggle_logo_small.jpg" alt="small mindboggle logo"  border="0" width="160"/></a>

   </td>
   <td>
    <table>
     <tr>
 <a style="padding: 20px 20px 20px 20px; color: #b07613; text-decoration: none; font-size: 32px"
  href="../../index.html">Mindboggle</a>
     </tr>
     <tr> <td height="18"></td>
     </tr>
     <tr>
      <td>
  <a style="padding: 20px 20px 20px 20px; text-decoration: none; font-size: 18px"
   href="./users/README.html">Software</a>
      </td>
      <td>
  <a style="padding: 20px 20px 20px 20px; text-decoration: none; font-size: 18px"
   href="../../data.html">Data</a>
      </td>
      <td>
  <a style="padding: 20px 20px 20px 20px; text-decoration: none; font-size: 18px"
   href="../../papers.html">Papers</a>
      </td>
      <td>
  <a style="padding: 20px 20px 20px 20px; text-decoration: none; font-size: 18px"
   href="../../people.html">People</a>
      </td>
     </tr>
    </table>
   </td>
  </tr>
 </table>
</div>
  

    <div class="document">
      <div class="documentwrapper">
          <div class="body">
            
  <div class="section" id="utils-freesurfer">
<h1>utils.freesurfer<a class="headerlink" href="#utils-freesurfer" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-mindboggle.utils.freesurfer">
<span id="module-utils-freesurfer"></span><h2>Module: <tt class="xref py py-mod docutils literal"><span class="pre">utils.freesurfer</span></tt><a class="headerlink" href="#module-mindboggle.utils.freesurfer" title="Permalink to this headline">¶</a></h2>
<p>Functions for converting from FreeSurfer formats, registration-based labeling.</p>
<p>Mindboggle functions call the following FreeSurfer functions</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">mri_vol2vol</span> <span class="ow">in</span> <span class="n">convert_mgh_to_native_nifti</span><span class="p">()</span>
<span class="n">mris_ca_label</span> <span class="ow">in</span> <span class="n">label_with_classifier</span><span class="p">()</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Authors:</dt>
<dd><ul class="first last simple">
<li>Forrest Sheng Bao, 2012  (<a class="reference external" href="mailto:forrest&#46;bao&#37;&#52;&#48;gmail&#46;com">forrest<span>&#46;</span>bao<span>&#64;</span>gmail<span>&#46;</span>com</a>)  <a class="reference external" href="http://fsbao.net">http://fsbao.net</a></li>
<li>Arno Klein, 2012-2014  (<a class="reference external" href="mailto:arno&#37;&#52;&#48;mindboggle&#46;info">arno<span>&#64;</span>mindboggle<span>&#46;</span>info</a>)  <a class="reference external" href="http://binarybottle.com">http://binarybottle.com</a></li>
<li>Oliver Hinds, 2013  (<a class="reference external" href="mailto:ohinds&#37;&#52;&#48;gmail&#46;com">ohinds<span>&#64;</span>gmail<span>&#46;</span>com</a>)</li>
</ul>
</dd>
</dl>
<p>Copyright 2013,  Mindboggle team (<a class="reference external" href="http://mindboggle.info">http://mindboggle.info</a>), Apache v2.0 License</p>
</div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="mindboggle.utils.freesurfer.annot_to_vtk">
<tt class="descclassname">mindboggle.utils.freesurfer.</tt><tt class="descname">annot_to_vtk</tt><big>(</big><em>annot_file</em>, <em>vtk_file</em>, <em>output_vtk=''</em><big>)</big><a class="headerlink" href="#mindboggle.utils.freesurfer.annot_to_vtk" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a FreeSurfer .annot file and save as a VTK format file.</p>
<p>Note regarding current pip install nibabel (fixed in github master repo):</p>
<div class="highlight-python"><div class="highlight"><pre>The &#39;True&#39; flag in nibabel.freesurfer.read_annot(annot_file, True)
gives the original FreeSurfer label values, not the FreeSurferColorLUT
labels, and when set to &#39;False&#39; assigns all otherwise unlabeled
left cortical vertices to 3, which is also assigned to the caudal
middle frontal gyrus.  To correct this ambiguity, this program assigns
-1 to all vertices with label 0 in the original (&#39;True&#39;) labels.
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>annot_file</strong> : string</p>
<blockquote>
<div><p>name of FreeSurfer .annot file</p>
</div></blockquote>
<p><strong>vtk_file</strong> : string</p>
<blockquote>
<div><p>name of VTK surface file</p>
</div></blockquote>
<p><strong>output_vtk</strong> : string</p>
<blockquote>
<div><p>name of output VTK file, where each vertex is assigned
the corresponding shape value</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>labels</strong> : list</p>
<blockquote>
<div><p>integers (one label per vertex)</p>
</div></blockquote>
<p><strong>output_vtk</strong> : string</p>
<blockquote class="last">
<div><p>name of output VTK file, where each vertex is assigned
the corresponding shape value</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.utils.freesurfer</span> <span class="kn">import</span> <span class="n">annot_to_vtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&#39;MINDBOGGLE_DATA&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">annot_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;arno&#39;</span><span class="p">,</span> <span class="s">&#39;freesurfer&#39;</span><span class="p">,</span> <span class="s">&#39;lh.aparc.annot&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vtk_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;arno&#39;</span><span class="p">,</span> <span class="s">&#39;freesurfer&#39;</span><span class="p">,</span> <span class="s">&#39;lh.pial.vtk&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_vtk</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span><span class="p">,</span> <span class="n">output_vtk</span> <span class="o">=</span> <span class="n">annot_to_vtk</span><span class="p">(</span><span class="n">annot_file</span><span class="p">,</span> <span class="n">vtk_file</span><span class="p">,</span> <span class="n">output_vtk</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># View:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.utils.plots</span> <span class="kn">import</span> <span class="n">plot_surfaces</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_surfaces</span><span class="p">(</span><span class="n">output_vtk</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindboggle.utils.freesurfer.convert_mgh_to_native_nifti">
<tt class="descclassname">mindboggle.utils.freesurfer.</tt><tt class="descname">convert_mgh_to_native_nifti</tt><big>(</big><em>input_file</em>, <em>reference_file</em>, <em>output_file=''</em>, <em>interp=0</em><big>)</big><a class="headerlink" href="#mindboggle.utils.freesurfer.convert_mgh_to_native_nifti" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert volume from FreeSurfer &#8216;unconformed&#8217; to original space
in nifti format using nibabel and scipy.ndimage.</p>
<p>Note: FreeSurfer&#8217;s mri_convert example results in type: SHORT (4),
while mri_vol2vol results in type: FLOAT (3), as does scipy.ndimage.
The mri_vol2vol command is</p>
<div class="highlight-python"><div class="highlight"><pre>mri_vol2vol --mov &lt;input_file&gt; --targ &lt;reference_file&gt;
            --interp trilin --regheader --o &lt;output_file&gt;
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>input_file</strong> : string</p>
<blockquote>
<div><p>input file name</p>
</div></blockquote>
<p><strong>reference_file</strong> : string</p>
<blockquote>
<div><p>file in original space</p>
</div></blockquote>
<p><strong>output_file</strong> : string</p>
<blockquote>
<div><p>name of output file</p>
</div></blockquote>
<p><strong>interp</strong> : integer</p>
<blockquote>
<div><p>interpolation method: 0=nearest, 1=trilin, &gt;1=spline</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>output_file</strong> : string</p>
<blockquote class="last">
<div><p>name of output file</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.utils.freesurfer</span> <span class="kn">import</span> <span class="n">convert_mgh_to_native_nifti</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.utils.plots</span> <span class="kn">import</span> <span class="n">plot_volumes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subject</span> <span class="o">=</span> <span class="s">&#39;bert&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&#39;SUBJECTS_DIR&#39;</span><span class="p">],</span><span class="n">subject</span><span class="p">,</span><span class="s">&#39;mri&#39;</span><span class="p">,</span><span class="s">&#39;orig&#39;</span><span class="p">,</span><span class="s">&#39;001.mgz&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reference_file</span> <span class="o">=</span> <span class="n">input_file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">convert_mgh_to_native_nifti</span><span class="p">(</span><span class="n">input_file</span><span class="p">,</span> <span class="n">reference_file</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">command</span> <span class="o">=</span> <span class="s">&#39;/Applications/ITK-SNAP.app/Contents/MacOS/InsightSNAP&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_volumes</span><span class="p">(</span><span class="s">&#39;001.nii.gz&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">command</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindboggle.utils.freesurfer.convert_mgh_to_native_nifti_mri_vol2vol">
<tt class="descclassname">mindboggle.utils.freesurfer.</tt><tt class="descname">convert_mgh_to_native_nifti_mri_vol2vol</tt><big>(</big><em>input_file</em>, <em>reference_file</em>, <em>output_file=''</em>, <em>interp='nearest'</em><big>)</big><a class="headerlink" href="#mindboggle.utils.freesurfer.convert_mgh_to_native_nifti_mri_vol2vol" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert volume from FreeSurfer &#8216;unconformed&#8217; to original space
in nifti format using FreeSurfer&#8217;s mri_vol2vol.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>input_file</strong> : string</p>
<blockquote>
<div><p>input file name</p>
</div></blockquote>
<p><strong>reference_file</strong> : string</p>
<blockquote>
<div><p>file in original space</p>
</div></blockquote>
<p><strong>output_file</strong> : string</p>
<blockquote>
<div><p>name of output file</p>
</div></blockquote>
<p><strong>interp</strong> : string</p>
<blockquote>
<div><p>interpolation method {trilin, nearest}</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>output_file</strong> : string</p>
<blockquote class="last">
<div><p>name of output file</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mindboggle.utils.freesurfer.curvature_to_vtk">
<tt class="descclassname">mindboggle.utils.freesurfer.</tt><tt class="descname">curvature_to_vtk</tt><big>(</big><em>surface_file</em>, <em>vtk_file</em>, <em>output_vtk</em><big>)</big><a class="headerlink" href="#mindboggle.utils.freesurfer.curvature_to_vtk" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert FreeSurfer curvature, thickness, or convexity file to VTK format.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>surface_file</strong> : string</p>
<blockquote>
<div><p>name of FreeSurfer surface file</p>
</div></blockquote>
<p><strong>vtk_file</strong> : string</p>
<blockquote>
<div><p>name of VTK surface file</p>
</div></blockquote>
<p><strong>output_vtk</strong> : string</p>
<blockquote>
<div><p>name of output VTK file</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>output_vtk</strong> : string</p>
<blockquote class="last">
<div><p>name of output VTK file, where each vertex is assigned
the corresponding shape value</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.utils.io_vtk</span> <span class="kn">import</span> <span class="n">curvature_to_vtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&#39;MINDBOGGLE_DATA&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">surface_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;arno&#39;</span><span class="p">,</span> <span class="s">&#39;freesurfer&#39;</span><span class="p">,</span> <span class="s">&#39;lh.thickness&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vtk_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;arno&#39;</span><span class="p">,</span> <span class="s">&#39;freesurfer&#39;</span><span class="p">,</span> <span class="s">&#39;lh.pial.vtk&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_vtk</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">curvature_to_vtk</span><span class="p">(</span><span class="n">surface_file</span><span class="p">,</span> <span class="n">vtk_file</span><span class="p">,</span> <span class="n">output_vtk</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># View:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.utils.plots</span> <span class="kn">import</span> <span class="n">plot_surfaces</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_surfaces</span><span class="p">(</span><span class="s">&#39;lh.thickness.vtk&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindboggle.utils.freesurfer.label_with_classifier">
<tt class="descclassname">mindboggle.utils.freesurfer.</tt><tt class="descname">label_with_classifier</tt><big>(</big><em>subject</em>, <em>hemi</em>, <em>left_classifier=''</em>, <em>right_classifier=''</em>, <em>annot_file=''</em>, <em>subjects_directory=''</em><big>)</big><a class="headerlink" href="#mindboggle.utils.freesurfer.label_with_classifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Label a brain with the DKT atlas using FreeSurfer&#8217;s mris_ca_label</p>
<p>FreeSurfer documentation</p>
<div class="highlight-python"><div class="highlight"><pre>SYNOPSIS
mris_ca_label [options] &lt;subject&gt; &lt;hemi&gt; &lt;surf&gt; &lt;classifier&gt; &lt;output&gt;

DESCRIPTION
For a single subject, produces an annotation file, in which each
cortical surface vertex is assigned a neuroanatomical label.
This automatic procedure employs data from a previously-prepared atlas
file. An atlas file is created from a training set, capturing region
data manually drawn by neuroanatomists combined with statistics on
variability correlated to geometric information derived from the
cortical model (sulcus and curvature). Besides the atlases provided
with FreeSurfer, new ones can be prepared using mris_ca_train).
</pre></div>
</div>
<p>Notes regarding creation and use of FreeSurfer Gaussian classifier atlas:</p>
<p>Create the DKT classifier atlas (?h.DKTatlas40.gcs) &#8211;NEED TO VERIFY THIS:
$ mris_ca_train -t $FREESURFER_HOME/average/colortable_desikan_killiany.txt                     $hemi sphere.reg aparcNMMjt.annot $SCANS ./$hemi.DKTatlas40.gcs</p>
<p>Label a brain with the DKT atlas (surface annotation file ?h.DKTatlas40.annot):
$ mris_ca_label -l ./$x/label/$hemi.cortex.label $x/ $hemi sphere.reg                     ./$hemi.DKTatlas40.gcs ./$x/label/$hemi.DKTatlas40.annot</p>
<p>Label the cortex of a subject&#8217;s segmented volume according
to the edited surface labels (?h.aparcNMMjt.annot):
$ mri_aparc2aseg &#8211;s ./x &#8211;volmask &#8211;annot aparcNMMjt</p>
<p>Label a brain with the DKT atlas using FreeSurfer&#8217;s mris_ca_label:
$ mris_ca_label MMRR-21-1 lh lh.sphere.reg ../lh.DKTatlas40.gcs ../out.annot</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>subject</strong> : string</p>
<blockquote>
<div><p>subject corresponding to FreeSurfer subject directory</p>
</div></blockquote>
<p><strong>hemi</strong> : string</p>
<blockquote>
<div><p>hemisphere [&#8216;lh&#8217; or &#8216;rh&#8217;]</p>
</div></blockquote>
<p><strong>left_classifier</strong> : string</p>
<blockquote>
<div><p>name of left hemisphere FreeSurfer classifier atlas (full path)</p>
</div></blockquote>
<p><strong>right_classifier</strong> : string</p>
<blockquote>
<div><p>name of right hemisphere FreeSurfer classifier atlas (full path)</p>
</div></blockquote>
<p><strong>annot_file</strong> : string</p>
<blockquote>
<div><p>name of output .annot file</p>
</div></blockquote>
<p><strong>subjects_directory</strong> : string</p>
<blockquote>
<div><p>FreeSurfer subjects directory (mris_ca_label -sdir option)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>annot_file</strong> : string</p>
<blockquote class="last">
<div><p>name of output .annot file</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># This example requires a FreeSurfer subjects/&lt;subject&gt; subdirectory</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.utils.freesurfer</span> <span class="kn">import</span> <span class="n">label_with_classifier</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subject</span> <span class="o">=</span> <span class="s">&#39;Twins-2-1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hemi</span> <span class="o">=</span> <span class="s">&#39;lh&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">left_classifier</span> <span class="o">=</span> <span class="s">&#39;/homedir/mindboggle_cache/b28a600a713c269f4c561f66f64337b2/lh.DKTatlas40.gcs&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">right_classifier</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">annot_file</span> <span class="o">=</span> <span class="s">&#39;./lh.classifier.annot&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subjects_directory</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">label_with_classifier</span><span class="p">(</span><span class="n">subject</span><span class="p">,</span> <span class="n">hemi</span><span class="p">,</span> <span class="n">left_classifier</span><span class="p">,</span> <span class="n">right_classifier</span><span class="p">,</span> <span class="n">annot_file</span><span class="p">,</span> <span class="n">subjects_directory</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># View:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.utils.freesurfer</span> <span class="kn">import</span> <span class="n">annot_to_vtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.utils.plots</span> <span class="kn">import</span> <span class="n">plot_surfaces</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&#39;MINDBOGGLE_DATA&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vtk_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;arno&#39;</span><span class="p">,</span> <span class="s">&#39;freesurfer&#39;</span><span class="p">,</span> <span class="s">&#39;lh.pial.vtk&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_vtk</span> <span class="o">=</span> <span class="s">&#39;./lh.classifier.vtk&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span><span class="p">,</span> <span class="n">output_vtk</span> <span class="o">=</span> <span class="n">annot_to_vtk</span><span class="p">(</span><span class="n">annot_file</span><span class="p">,</span> <span class="n">vtk_file</span><span class="p">,</span> <span class="n">output_vtk</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_surfaces</span><span class="p">(</span><span class="n">output_vtk</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindboggle.utils.freesurfer.surface_to_vtk">
<tt class="descclassname">mindboggle.utils.freesurfer.</tt><tt class="descname">surface_to_vtk</tt><big>(</big><em>surface_file</em>, <em>output_vtk</em><big>)</big><a class="headerlink" href="#mindboggle.utils.freesurfer.surface_to_vtk" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert FreeSurfer surface file to VTK format.</p>
<p>If a file named orig.mgz exists in &#8216;../mri&#8217;, the surface coordinates
are transformed into scanner RAS space during format conversion
according to the vox2ras transform in that file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>surface_file</strong> : string</p>
<blockquote>
<div><p>name of FreeSurfer surface file</p>
</div></blockquote>
<p><strong>output_vtk</strong> : string</p>
<blockquote>
<div><p>name of output VTK file</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>output_vtk</strong> : string</p>
<blockquote class="last">
<div><p>name of output VTK file</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.utils.freesurfer</span> <span class="kn">import</span> <span class="n">surface_to_vtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&#39;SUBJECTS_DIR&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">surface_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;OASIS-TRT-20-1&#39;</span><span class="p">,</span> <span class="s">&#39;surf&#39;</span><span class="p">,</span> <span class="s">&#39;lh.pial&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_vtk</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">surface_to_vtk</span><span class="p">(</span><span class="n">surface_file</span><span class="p">,</span> <span class="n">output_vtk</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># View:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.utils.plots</span> <span class="kn">import</span> <span class="n">plot_surfaces</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_surfaces</span><span class="p">(</span><span class="s">&#39;lh.pial.vtk&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
<!-- Google Analytics -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-693862-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

  </body>
</html>